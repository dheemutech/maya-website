<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>maya research</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@700&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #000; --fg: #eee; --accent: #39ff14; }
        body { 
            font-family: 'Roboto';
            text-align: left;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.3;
            background-color: var(--bg); 
            color: var(--fg); 
        }
        h1, h2 { 
            font-family: 'Space Mono', monospace; 
            text-transform: uppercase; 
            letter-spacing: .1em; 
        }
        h1 { 
            font-size: 3.5rem; 
            margin: 2rem 0; 
            font-weight: 700; 
            text-align: center; 
        }
        h2 { 
            font-size: 2rem; 
            margin: 2rem 0 1rem; 
            font-weight: 700; 
        }
        h3 {
            font-size: 1.5rem;
            margin: 2rem 0 1rem;
            font-weight: 700;
        }
        p { 
            font-weight: 400; 
        }
        ul li { 
            list-style: none; 
            position: relative; 
            padding-left: 1.5em; 
        }
        ul li::before { 
            content: '▸'; 
            color: var(--accent); 
            position: absolute; 
            left: 0; 
        }
        a { 
            color: var(--fg);
            text-decoration: none;
            transition: text-decoration .2s;
        }
        a:hover { 
            text-decoration: underline;
            color: var(--accent);
        }
        h1, h3 { color: var(--accent); }
        .fade-in { 
            opacity: 0; 
            transform: translateY(1rem); 
            transition: opacity .6s ease, transform .6s ease; 
        }
        .visible { 
            opacity: 1; 
            transform: translateY(0); 
        }
        table {
            margin: 20px auto;
            border-collapse: collapse;
            width: 100%;
            font-weight: 300;
            border-color: #333;
        }
        th, td {
            border: 1px solid #333;
            padding: 6px;
            text-align: left;
        }
        th {
            background-color: #111;
            font-weight: 400;
        }
        audio {
            width: 100%;
            max-width: 600px;
        }
        img {
            width: 100%;
            max-width: 600px;
            display: block;
            margin: 1rem auto;
            border: 1px solid var(--accent);
        }
        /* Custom audio player */
        audio.custom { display:none; }
        .player { display:flex; align-items:center; gap:0.5rem; background:#111; padding:8px 12px; border-radius:4px; max-width:600px; width:100%; }
        .player button { background:none; border:none; color:var(--accent); font-size:1.1rem; cursor:pointer; }
        .player input[type=range]{ flex:1; accent-color:var(--accent); height:4px; cursor:pointer; }
        /* Custom minimal audio player */
        .audio-player { display:flex; align-items:center; gap:0.75rem; background:#111; padding:8px 12px; border-radius:4px; max-width:600px; width:100%; margin-top: 0.5rem; margin-bottom: 0.5rem; }
        .audio-player button { background:none; border:none; color:var(--accent); font-size:1.1rem; cursor:pointer; padding:0; width: 20px; /* Fixed width */ text-align: center; }
        .audio-player input[type=range] { flex:1; height:4px; cursor:pointer; accent-color:var(--accent); }
        .audio-player .time { font-size:0.8rem; color:var(--fg); white-space: nowrap; }
        .tagline { text-align: center; }
        .section-title { font-size: 1.5rem; }
        .product-section { margin: 3rem 0; }
    </style>
</head>
<body>
    <h1 class="hero fade-in">maya research</h1>

    <p class="tagline fade-in">We are building AI for India — and we're open-sourcing</p>

    <h2 class="section-title fade-in">So far we've shipped</h2>

    <!-- Veena sample section -->
    <section class="product-section">
        <h3 class="fade-in">Veena</h3>
        <p class="fade-in">Open-source text-to-speech model for Indian languages.</p>
        <p class="fade-in"><em>Demo text:</em> "अगर ऑर्डर डिलीवर नहीं होता है, तो आपका पूरा पैसा वापस कर दिया जाएगा…"</p>

        <!-- Player Container -->
        <div class="veena-player-container fade-in"> <!-- Apply fade-in to the container -->
            <div class="audio-player"> <!-- UI elements -->
                <button aria-label="Play">▶</button>
                <input type="range" value="0" min="0" max="100" step="0.1"> <!-- Initial max, JS updates -->
                <span class="time">0:00 / 0:00</span>
            </div>
            <audio src="ttsaudios/veena.wav" preload="metadata" style="display:none;"></audio> <!-- Hidden audio source -->
        </div>

        <p class="fade-in">Quality on par with ElevenLabs — and fully open-source.</p>
        <p class="fade-in"><a href="comparison.html">See full TTS model comparison →</a></p>
    </section>

    <!-- Gemma section -->
    <section class="product-section">
        <h3 class="fade-in">Indic Gemma</h3>
        <p class="fade-in">13B text-to-text model trained for conversational Indian languages. <a href="https://huggingface.co/bharathkumar1922001/Gemma3-12b-Indic" target="_blank">Check it out →</a></p>
        <a href="https://huggingface.co/bharathkumar1922001/Gemma3-12b-Indic" target="_blank"><img src="Huggingfacegemma.png" alt="Indic Gemma preview" style="width:100%; max-width:600px; display:block; margin:1rem auto; border:1px solid var(--accent);"></a>
    </section>

    <div class="fade-in team" style="text-align:center; margin-top:3rem;">
        Built by <a href="https://dheemanthreddy.com" target="_blank">Dheemanth Reddy</a> &nbsp;|&nbsp; <a href="https://www.linkedin.com/in/bharath-kumar92/?originalSubdomain=in" target="_blank">Bharath Kumar</a>
    </div>

    <footer class="fade-in" style="margin-top:4rem; font-size:0.85rem; color:#777; display:flex; justify-content:space-around; align-items:center;">
        <div style="text-align:left;">
            Backed by <a href="https://www.livetheresidency.com/" target="_blank">The Residency</a> &amp; <a href="https://localhosthq.com/" target="_blank">Localhost</a>
        </div>
        <a href="https://forms.gle/GueKgR5cTiHiT92U6" target="_blank">Investor Interest</a>
        <div style="text-align:right;">
            © 2025 Vision Technologies Private Limited — Made with ♥ for India
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function(){
          const els=document.querySelectorAll('h1,h2,h3,p,ul,table,audio,img,footer,div.team,.veena-player-container');
          const obs=new IntersectionObserver((entries,observer)=>{
            entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('visible'); observer.unobserve(e.target);} });
          },{threshold:0.1});
          els.forEach(el=>{ el.classList.add('fade-in'); obs.observe(el); });
        });

        // Custom audio player logic
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.veena-player-container').forEach(container => {
                const player = container.querySelector('.audio-player');
                const audio = container.querySelector('audio');
                if (!player || !audio) { console.error("Player or audio element not found in container:", container); return; }

                const btn = player.querySelector('button');
                const slider = player.querySelector('input[type=range]');
                const timeSpan = player.querySelector('.time');
                let totalDurationFormatted = "--:--"; // Placeholder for total time

                function formatTime(seconds) {
                    const minutes = Math.floor(seconds / 60);
                    const secs = Math.floor(seconds % 60).toString().padStart(2, '0');
                    return `${minutes}:${secs}`;
                }

                function updatePlayerTime() {
                    const currentTimeFormatted = formatTime(audio.currentTime);
                    timeSpan.textContent = `${currentTimeFormatted} / ${totalDurationFormatted}`;
                    if (!isNaN(audio.duration)) { // Update slider only if duration is valid
                        slider.value = audio.currentTime;
                    }
                }

                 audio.addEventListener('loadedmetadata', () => {
                     if (!isNaN(audio.duration)) {
                         totalDurationFormatted = formatTime(audio.duration);
                         slider.max = audio.duration;
                         updatePlayerTime(); // Update display with correct total time
                         console.log("Veena metadata loaded. Duration:", audio.duration);
                     } else {
                         console.warn("Veena metadata loaded, but duration is NaN.");
                     }
                 });

                 audio.addEventListener('durationchange', () => {
                     if (!isNaN(audio.duration)) {
                         totalDurationFormatted = formatTime(audio.duration);
                         slider.max = audio.duration;
                         updatePlayerTime();
                         console.log("Veena duration changed. Duration:", audio.duration);
                     } else {
                          console.warn("Veena duration changed, but duration is NaN.");
                     }
                 });

                btn.addEventListener('click', () => {
                    if (audio.paused) {
                        audio.play().catch(e => console.error("Error playing audio:", e));
                        btn.textContent = '❚❚';
                    } else {
                        audio.pause();
                        btn.textContent = '▶';
                    }
                });

                audio.addEventListener('timeupdate', updatePlayerTime);

                audio.addEventListener('ended', () => {
                    btn.textContent = '▶';
                    slider.value = 0;
                    audio.currentTime = 0;
                    updatePlayerTime(); // Reset time display
                });

                slider.addEventListener('input', () => {
                     if (!isNaN(audio.duration)) { // Allow seeking only if duration is valid
                         audio.currentTime = slider.value;
                         updatePlayerTime(); // Update time display immediately on seek
                     }
                });

                // Initial state check in case metadata loaded before script ran
                if (audio.readyState >= 1 && !isNaN(audio.duration)) {
                     totalDurationFormatted = formatTime(audio.duration);
                     slider.max = audio.duration;
                     updatePlayerTime();
                } else {
                    timeSpan.textContent = `0:00 / ${totalDurationFormatted}`; // Show initial state
                }
            });
        });
    </script>
</body>
</html>